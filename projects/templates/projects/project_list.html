{% extends "blog/base.html" %}
{% block title %}Projects{% endblock %}

{% block content %}
<!-- ğŸš€ Projects Terminal -->
<div class="sandcastle-card mb-5">
  <div class="sandcastle-head">
    <div class="sandcastle-title">$ launchpad</div>
    <div class="sandcastle-meta">
      projects: {{ project_count }}
    </div>
  </div>

  <div class="sandcastle-grid">
    {% for i in ""|ljust:project_count %}
      {% if forloop.counter0|divisibleby:20 %}
        <span class="castle">ğŸš€</span>
      {% elif forloop.counter0|divisibleby:10 %}
        <span class="castle">ğŸ›°ï¸</span>
      {% else %}
        <span class="castle">ğŸ›¸</span>
      {% endif %}
    {% endfor %}
  </div>

  <div class="sandcastle-hint">
    * í”„ë¡œì íŠ¸ í•˜ë‚˜ë‹¹ ë¡œì¼“ í•˜ë‚˜ê°€ ë°œì‚¬ëœë‹¤.
  </div>
</div>

<h2>Projects</h2>

<div class="project-list">

{% for project in projects %}
<article class="project-item card">
  <div class="project-row">

    <!-- ì™¼ìª½ í…ìŠ¤íŠ¸ -->
    <div class="project-text">
      <h3>{{ project.title }}</h3>

      <p class="meta">
        ì œì‘ì¼: {{ project.created_at|date:"M. d, Y" }}
      </p>

      <p class="summary">
        {{ project.summary }}
      </p>

      <div class="project-actions">

        {% if project.dashboard_url %}
        <a href="{{ project.dashboard_url }}" class="btn btn-dashboard">
          ğŸ“Š ëŒ€ì‹œë³´ë“œ ê°€ê¸°
        </a>
        {% endif %}

        <!-- í”„ë¡œì íŠ¸ ìƒì„¸ -->
        <a href="{% url 'project_detail' project.slug %}"
           class="btn btn-project">
          ğŸ” í”„ë¡œì íŠ¸ ìƒì„¸
        </a>

        {% if project.github_url %}
        <a href="{{ project.github_url }}"
           target="_blank"
           class="btn btn-project">
          <span>ğŸ”—</span> GitHub
        </a>
        {% endif %}

        {% if user.is_staff %}
        <a href="{% url 'project_delete' project.slug %}"
           class="btn btn-delete"
           onclick="return confirm('ì •ë§ ì‚­ì œí• ê¹Œìš”?');">
          ğŸ—‘ ì‚­ì œ
        </a>
        {% endif %}

      </div>
    </div>

    <!-- ì˜¤ë¥¸ìª½ ì¸ë„¤ì¼ -->
    {% if project.thumbnail %}
    <div class="project-thumb">
      <img src="{{ project.thumbnail.url }}" alt="{{ project.title }}">
    </div>
    {% endif %}

  </div>
</article>
{% endfor %}

</div>
{% endblock %}
