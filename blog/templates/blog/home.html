{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}

<!-- ğŸ§­ Status Terminal (ë§¨ ìœ„) -->
<div class="sandcastle-card mb-4">
  <div class="sandcastle-head">
    <div class="sandcastle-title">$ status</div>
    <div class="sandcastle-meta">overview</div>
  </div>

  <div class="terminal-lines">
    <div>
      debug:
      {% for _ in ""|ljust:debug_count %}
        {% if forloop.counter0|divisibleby:20 %}ğŸ›ï¸
        {% elif forloop.counter0|divisibleby:10 %}ğŸ¯
        {% else %}ğŸ°
        {% endif %}
      {% endfor %}
    </div>

    <div>
      study:
      {% for _ in ""|ljust:study_count %}
        {% if forloop.counter0|divisibleby:20 %}ğŸ–Šï¸
        {% elif forloop.counter0|divisibleby:10 %}âœ’ï¸
        {% else %}âœï¸
        {% endif %}
      {% endfor %}
    </div>

    <div>
      projects:
      {% for _ in ""|ljust:project_count %}
        {% if forloop.counter0|divisibleby:20 %}ğŸ›¸
        {% elif forloop.counter0|divisibleby:10 %}ğŸ›°ï¸
        {% else %}ğŸš€
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <div class="sandcastle-hint">
    * ë°°ìš°ê³  â†’ ì‚½ì§ˆí•˜ê³  â†’ ë§Œë“  í”ì 
  </div>
</div>

<!-- ğŸ”¥ ìê¸°ì†Œê°œ í„°ë¯¸ë„ (Status ì•„ë˜) -->
<section class="terminal-hero mb-4">
  <div class="terminal">
    <div class="terminal-header">
      <span class="dot red"></span>
      <span class="dot yellow"></span>
      <span class="dot green"></span>
    </div>
    <pre id="terminal-output"></pre>
  </div>
</section>

<!-- ğŸ“ ìµœê·¼ ê¸€ -->
<h2 class="mb-3">ìµœê·¼ ê¸€</h2>
<div class="grid">
  {% for post in posts %}
    <div class="card">
      <span class="badge">{{ post.category }}</span>
      <h3>{{ post.title }}</h3>
      <div class="meta">{{ post.created_at|date:"Y.m.d" }}</div>
      <p>{{ post.content|truncatechars:120 }}</p>
    </div>
  {% endfor %}
</div>

<!-- âŒ¨ï¸ í„°ë¯¸ë„ íƒ€ì´í•‘ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
const lines = [
  "$ whoami",
  "minhu",
  "",
  "$ focus",
  "- Learning",
  "- Building",
  "- Refining",
  "",
  "$ status",
  "learning & building"
];

const output = document.getElementById("terminal-output");
let lineIndex = 0;
let charIndex = 0;

function typeLine() {
  if (!output || lineIndex >= lines.length) return;

  const line = lines[lineIndex];
  if (charIndex < line.length) {
    output.textContent += line.charAt(charIndex);
    charIndex++;
    setTimeout(typeLine, 28);
  } else {
    output.textContent += "\n";
    lineIndex++;
    charIndex = 0;
    setTimeout(typeLine, 180);
  }
}
typeLine();
</script>

{% endblock %}
