{% extends "base.html" %}
{% block title %}Study / Notes{% endblock %}

{% block content %}
<!-- ğŸ“˜ Study Progress Terminal -->
<div class="sandcastle-card mb-5">
  <div class="sandcastle-head">
    <div class="sandcastle-title">$ knowledge</div>
    <div class="sandcastle-meta">
      notes: {{ study_count }}
    </div>
  </div>

  <div class="sandcastle-grid">
      {% for i in ""|ljust:study_count %}
        {% if forloop.counter|divisibleby:20 %}
          ğŸ–Šï¸
        {% elif forloop.counter|divisibleby:10 %}
          âœ’ï¸
        {% else %}
          âœï¸
        {% endif %}
      {% endfor %}
  </div>

  <div class="sandcastle-hint">
    * ìŠ¤í„°ë”” í•˜ë‚˜ë‹¹ ì—°í•„ í•˜ë‚˜ê°€ ìŒ“ì¸ë‹¤. (10ê°œë§ˆë‹¤ ì§„í™”)
  </div>
</div>


<h2>Study / Notes</h2>

<div class="grid">
  {% for post in posts %}
  <div class="card">

    <span class="badge">
      {{ post.category }}
    </span>

    <h3>{{ post.title }}</h3>

    <div class="meta">
      {{ post.created_at }}
    </div>

    <p>
      {{ post.content|truncatechars:120 }}
    </p>

    <!-- ğŸ”¥ ë²„íŠ¼ ì˜ì—­ (project / post / debug ì™€ ë™ì¼) -->
    <div class="project-actions"
         style="display:flex; gap:12px; align-items:center;">

      <!-- Read more -->
      <a href="{% url 'study_detail' post.id %}"
         class="btn btn-primary">
        Read more â†’
      </a>

      <!-- ì‚­ì œ ë²„íŠ¼ (a íƒœê·¸ë¡œ í†µì¼) -->
      {% if user.is_staff %}
      <a href="{% url 'post_delete' post.id %}"
         class="btn btn-delete"
         onclick="return confirm('ì •ë§ ì‚­ì œí• ê¹Œìš”?');">
        ğŸ—‘ ì‚­ì œ
      </a>
      {% endif %}

    </div>

  </div>
  {% empty %}
    <p>ì•„ì§ Study ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
  {% endfor %}
</div>
{% endblock %}
